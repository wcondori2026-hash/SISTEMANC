<div class="dashboard-wrapper d-flex flex-column flex-md-row">
  <app-menu [menuActivo]="menuActivo" (cerrar)="cerrarMenu()"></app-menu>
  <div class="dashboard-main flex-grow-1">
    <app-breadcrumb [menuActivo]="menuActivo" (mostrarMenu)="mostrarMenu()"></app-breadcrumb>
    <section class="dashboard-content main__form mt-3">
      <div class="container-fluid px-3">
        <div class="row">
          <div class="col-12">
            <div class="mb-3 d-flex flex-column flex-md-row border-0 p-0">
              <div class="d-flex flex-column flex-md-row w-100">
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto active" (click)="grabar()">
                  <i class="fa fa-save mr-2"></i> Grabar
                </button>
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" (click)="abrirModalAnexos()">
                  <i class="fa fa-upload mr-2"></i> Cargar Anexos
                </button>
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" (click)="cerrar()">
                  <i class="fa fa-ban mr-2"></i> Cerrar
                </button>
              </div>
              <div class="dropdown ms-md-auto mt-2 mt-md-0">
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  {{estado}}
                </button>
                <ul class="dropdown-menu">
                  <li *ngFor="let e of estados"><a class="dropdown-item" href="#">{{e}}</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <div class="card compras-filtros-card mb-4">
              <div class="card-header fw-bold">Datos Generales</div>
              <form class="card-body compras-filtros p-2 p-md-3" autocomplete="off">
                <div class="row g-2 g-md-3">
                  <div class="col-12 col-md-3">
                    <label class="form-label">Tipo:</label>
                    <select class="form-select"><option>Factura / Boleta / Libre</option></select>
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Fecha Emisión:</label>
                    <input type="text" class="form-control" placeholder="/ /" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Proveedor:</label>
                    <select class="form-select"><option>Seleccione</option></select>
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Depósito:</label>
                    <select class="form-select">
                      <option>BBVA</option>
                      <option>BCP</option>
                      <option>Efectivo</option>
                    </select>
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Código de Cotización:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Proyecto / Obra:</label>
                    <select class="form-select"><option>Seleccione</option></select>
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Monto:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">IGV:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Total:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Detracción:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Retención:</label>
                    <input type="text" class="form-control" />
                  </div>
                  <div class="col-12 col-md-3">
                    <label class="form-label">Tipo Moneda:</label>
                    <select class="form-select"><option>Seleccione</option></select>
                  </div>
                  <div class="col-12 col-md-12">
                    <label class="form-label">Glosa:</label>
                    <textarea class="form-control" rows="2"></textarea>
                  </div>
                </div>
               </form>
            </div>
          </div>
        </div>
         <div class="row">
          <div class="col-12">
            <div class="card compras-filtros-card mb-4">
             <div class="card-header fw-bold">Detalle</div>
             <form class="card-body compras-filtros p-2 p-md-3" autocomplete="off">
              <div class="row g-2 g-md-3">
                <div class="col-12 col-md-3">
                  <label class="form-label">Tipo producto:</label>
                  <select class="form-select"><option>Seleccione</option></select>
                </div>
                <div class="col-12 col-md-2">
                  <label class="form-label">Unidad de Medida:</label>
                  <select class="form-select"><option>Und, m2, m3</option></select>
                </div>
                <div class="col-12 col-md-3">
                  <label class="form-label">Descripción:</label>
                  <input type="text" class="form-control" />
                </div>
                <div class="col-12 col-md-1">
                  <label class="form-label">Cantidad:</label>
                  <input type="text" class="form-control" />
                </div>
                <div class="col-12 col-md-3">
                  <label class="form-label" style="color:transparent;">Cantidad:</label>
                  <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" type="button" (click)="agregarDetalle()">Agregar</button>
                </div>
              </div>
             </form>
             <div class="card-body p-3">
               <div class="table-responsive">
                 <table class="table table-bordered align-middle">
                   <thead class="table-light">
                     <tr>
                       <th>Nro</th>
                       <th>Tipo Producto</th>
                       <th>Unidad Medida</th>
                       <th>Cantidad</th>
                       <th>Total</th>
                       <th>Acciones</th>
                     </tr>
                   </thead>
                   <tbody>
                     <tr *ngFor="let d of detalle">
                       <td>{{d.nro}}</td>
                       <td>{{d.tipo}}</td>
                       <td>{{d.unidad}}</td>
                       <td>{{d.cantidad}}</td>
                       <td>S/ {{d.total | number:'1.2-2'}}</td>
                       <td>
                         <button class="btn btn-sm btn-outline-danger" (click)="eliminarDetalle(d.nro)">&times;</button>
                       </td>
                     </tr>
                   </tbody>
                 </table>
               </div>
               <div class="row mt-3">
                 <div class="col-12 col-md-4 ms-auto">
                   <table class="table table-bordered mb-0" style="width:100%;">
                     <tbody>
                       <tr>
                         <td class="fw-bold">Monto :</td>
                         <td class="text-end">618.00</td>
                       </tr>
                       <tr>
                         <td class="fw-bold">IGV :</td>
                         <td class="text-end">618.00</td>
                       </tr>
                       <tr>
                         <td class="fw-bold">Detracción / Retención :</td>
                         <td class="text-end">618.00</td>
                       </tr>
                       <tr>
                         <td class="fw-bold">Total Final :</td>
                         <td class="text-end">618.00</td>
                       </tr>
                     </tbody>
                   </table>
                 </div>
               </div>
             </div>
           </div>
          </div>
         </div>
      </div>
    </section>
  </div>
</div>
