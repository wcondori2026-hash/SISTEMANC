<div class="dashboard-wrapper d-flex flex-column flex-md-row">
  <app-menu [menuActivo]="menuActivo" (cerrar)="cerrarMenu()"></app-menu>
  <div class="dashboard-main flex-grow-1">
    <app-breadcrumb [menuActivo]="menuActivo" (mostrarMenu)="mostrarMenu()"></app-breadcrumb>
    <section class="dashboard-content main__form mt-3">
      <div class="container-fluid px-3">
        <div class="row">
          <div class="col-12">
            <div class="mb-3 d-flex flex-column flex-md-row border-0 p-0">
              <div class="d-flex flex-column flex-md-row w-100">
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto active" (click)="grabar()"><i class="fa fa-save me-1"></i> Grabar</button>
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" (click)="cargarAnexos()"><i class="fa fa-upload me-1"></i> Carga Anexos</button>
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" (click)="abrirModalGastos()"><i class="fa fa-table me-1"></i> Gastos</button>
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto" [routerLink]="'/viaticos'"><i class="fa fa-times me-1"></i> Cerrar</button>
              </div>
              <div class="dropdown mt-2 mt-md-0">
                <button class="compras-btn-nuevo d-flex align-items-center mb-2 mb-md-0 w-md-auto dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                  {{estado}}
                </button>
                <ul class="dropdown-menu">
                  <li *ngFor="let e of estados"><a class="dropdown-item" href="#">{{e}}</a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
             <div class="card compras-filtros-card mb-4">
              <div class="card-header fw-bold">Datos Asignación</div>
                <form class="card-body compras-filtros p-2 p-md-3" autocomplete="off">
                  <div class="row g-2 g-md-3">
                    <div class="col-md-4">
                      <label class="form-label">Responsable :</label>
                      <select class="form-select" [(ngModel)]="responsable" name="responsable">
                        <option value="">Seleccione</option>
                      </select>
                    </div>
                  </div>
                  <div class="row g-2 g-md-3">
                    <div class="col-md-12">
                      <label class="form-label">Descripción :</label>
                      <textarea class="form-control" rows="2" [(ngModel)]="descripcion" name="descripcionAsignacion"></textarea>
                    </div>
                  </div>
                </form>
             </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
             <div class="card compras-filtros-card mb-4">
              <div class="card-header fw-bold">Datos Asignación</div>
              <div class="card-body compras-filtros p-2 p-md-3">
                <div class="row g-2 g-md-3">
                  <div class="col-md-3">
                    <label class="form-label">Monto :</label>
                    <input type="text" class="form-control" [(ngModel)]="monto" name="monto" />
                  </div>
                  <div class="col-md-3">
                    <label class="form-label">Fecha Asignación :</label>
                    <div class="input-group">
                      <input type="text" class="form-control" placeholder="/ /" [(ngModel)]="fechaAsignacion" name="fechaAsignacion" />
                      <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <label class="form-label">Descripción :</label>
                    <input type="text" class="form-control" [(ngModel)]="descripcion" name="descripcionDetalle" />
                  </div>
                  <div class="col-md-2 d-flex align-items-end">
                    <button class="btn btn-outline-secondary w-100" (click)="agregarAsignacion()">Agregado</button>
                  </div>
                </div>
              </div>
              <div class="card-body p-3">
                <div class="table-responsive">
                  <table class="table table-bordered align-middle">
                    <thead class="table-light">
                      <tr>
                        <th>Nro</th>
                        <th>Monto</th>
                        <th>Fecha</th>
                        <th>Descripción</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let a of asignaciones">
                        <td>{{a.nro}}</td>
                        <td>S/. {{a.monto | number:'1.2-2'}}</td>
                        <td>{{a.fecha}}</td>
                        <td>{{a.descripcion}}</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
             </div>
          </div>
        </div>

        <div class="row">
          <div class="col-12">
            <div class="card compras-filtros-card mb-4">
              <div class="card-header fw-bold">Rendición</div>
               <form class="card-body compras-filtros p-2 p-md-3" autocomplete="off">
                 <div class="row g-2 g-md-3">
                   <div class="col-md-3">
                     <label class="form-label">Datos :</label>
                     <input type="text" class="form-control" [(ngModel)]="datos" name="datos" />
                   </div>
                   <div class="col-md-3">
                     <label class="form-label">Fecha Cierre :</label>
                     <div class="input-group">
                       <input type="text" class="form-control" placeholder="/ /" [(ngModel)]="fechaCierre" name="fechaCierre" />
                       <span class="input-group-text"><i class="fa fa-calendar"></i></span>
                     </div>
                   </div>
                   <div class="col-md-3">
                     <label class="form-label">Devolución :</label>
                     <input type="text" class="form-control" [(ngModel)]="devolucion" name="devolucion" />
                   </div>
                   <div class="col-md-3">
                     <label class="form-label">Reembolso :</label>
                     <input type="text" class="form-control" [(ngModel)]="reembolso" name="reembolso" />
                   </div>
                   <div class="col-md-12">
                     <label class="form-label">Descripción :</label>
                     <textarea class="form-control" rows="2" [(ngModel)]="descripcionRendicion" name="descripcionRendicion"></textarea>
                   </div>
                 </div>
               </form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
